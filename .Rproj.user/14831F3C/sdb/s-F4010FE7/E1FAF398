{
    "collab_server" : "",
    "contents" : "---\ntitle: \"長庚大學 大數據分析方法 作業六\"\noutput: github_document\n---\n## 題目\n空氣汙染與工廠數量\n\n##資料來源\n我們使用的是行政院環境保護署(俗稱環保署)中空氣品質監測網的北部空氣品質歷年監測資料，以及政府資料開放平台中的新北市工廠登記心清冊的資料。\n空氣品質監測網：http://taqm.epa.gov.tw/taqm/tw/YearlyDataDownload.aspx\n政府資料開放平台：http://data.gov.tw/node/37370\n\n##資料介紹\n#北部空氣品質的資料說明\n關於讀入資料之欄位名稱及內容說明\n普通測站資料註記說明：\n`# 表示儀器檢核為無效值 \n* 表示程式檢核為無效值 \nx 表示人工檢核為無效值\nNR 表示無降雨(已更改過)\n空白 表示缺值\n\n測項簡稱    \t單位\t    測項名稱\nSO2 \t        ppb\t      二氧化硫\nCO\t          ppm\t      一氧化碳\nO3\t          ppb\t      臭氧\nPM10\t        μg/m3\t    懸浮微粒\nPM2.5\t        μg/m3\t    細懸浮微粒\nNOX\t          ppb\t      氮氧化物\nNO\t          ppb       一氧化氮\nNO2\t          ppb\t      二氧化氮\nTHC\t          ppm\t      總碳氫合物\nNMHC\t        ppm\t      非甲烷碳氫化合物\nCH4\t          ppm\t      甲烷\nUVB\t          UVI\t      紫外線指數\nAMB_TEMP\t    ℃         大氣溫度\nRAINFALL\t    mm    \t  雨量\nRH\t          %\t        相對溼度\nWIND_SPEED\t  m/sec\t    風速(以每小時最後10分鐘算術平均)\nWIND_DIREC\t  degress\t  風向(以每小時最後10分鐘向量平均)\nWS_HR\t        m/sec\t    風速小時值(以整個小時算術平均)\nWD_HR\t        degress\t  風向小時值(以整個小時向量平均)\nPH_RAIN\t      pH\t      酸鹼值(酸雨)\nRAIN_COND\t    μS/cm\t    導電度(酸雨)\n#新北市工廠登記心清冊的資料說明\n我們在眾多的資料中，只挑出STATUS(狀態)欄位為生產中的資料來進行分析比較。\n#資料格式\n新北市各監測站的的資料為XLS檔而工廠資料為CSV檔。\n\n## 分析議題背景\nPM 就是英文Particulate Matter（顆粒物）的縮寫。\nPM10代表空氣中空氣動力學粒徑小於等於10微米的所有顆粒物；\nPM2.5代表空氣中空氣動力學粒徑小於等於2.5微米的所有顆粒物；又稱細顆粒，細顆粒進入肺泡。 由此可見，PM10中包含粒徑小於2.5微米的顆粒物，即PM10包含PM2.5。世界衛生組織（WHO）指出： 對於發展中國家的城市：PM10中有近一半是PM2.5；\n對於已開發國家城市:PM10中PM2.5占50%至80%。由此，當空氣中PM2.5的濃度數據增加時，PM10的濃度數據就會升高。故目前歐盟國家仍然只監測PM10的濃度數據。\nPM10能被人直接吸入呼吸道，但部分可通過痰液等排出體外，也會被鼻腔內部的絨毛阻擋，對人體健康危害相對較小。不過PM10對於能見度和溫度的影響非常明顯。\n#PM2.5對健康的危害\n#呼吸系統\n台灣吸菸人口下降，但肺腺癌發生率卻逐年上升。\n肺癌的原因與空氣汙染有關，人們將PM2.5吸入肺裡沉積，將刺激肺癌發生。\n根據世界衛生組織發表數據顯示，PM2.5濃度每增加10μm/m3死亡率會增加6%。\n#心血管、神經系統\n研究發現，PM2.5吸入人體後會攜帶有害物質進入血液，對血管尤其是最內層的血管內膜層造成損傷。\n老人、兒童是PM2.5高風險族群，老人易得心肺疾病，對兒童較明顯的影響是新生兒早產、體重過輕、氣喘與過敏、慢性咳嗽及支氣管問題、呼吸道疾病等。\nPM2.5通過呼吸可以到達肺部。這些顆粒物在肺泡上沉積下來，會干擾肺部的氣體交換，損傷肺泡和粘膜，引起肺組織的慢性纖維化，導致肺心病，加重哮喘病，引起慢性鼻咽炎、慢性支氣管炎等一系列病變，這些顆粒物還可以通過支氣管和肺泡進入血液，其中的有害氣體、重金屬等溶解在血液中，嚴重的可危及生命，對兒童和老年人的危害尤為明顯。\n# 分析動機\n相信大家都對PM10及PM2.5這幾個名詞不陌生了，也知道它對人體健康會有危害，因此我們找出開放資料，就北部幾個區域於2016/7-12月的情況來比較看看到底是哪裡的空氣最髒，再來看看工廠在各區的分布多寡和空氣汙染的高低有沒有關聯。\n\n##假設\n我們假設工廠的數量會跟空氣污染會有正相關，工廠數量越多，該區空氣品質越差。\n\n##分析\n載入使用資料們\n```{r}\n#這是R Code Chunk\nlibrary(readr)\nlibrary(readxl)\nBanqiao <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年板橋站_20170217.xls\")\nLinkou <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年林口站_20170217.xls\")\nSanchong <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年三重站_20170217.xls\")\nTucheng <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年土城站_20170217.xls\")\nWanLi <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年萬里站_20170217.xls\")\nXinzhuang <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年新莊站_20170217.xls\")\nXizhi <- read_excel(\"D:/BigDataHW/HW6/NewTaipeiCity/105年汐止站_20170217.xls\")\nNewTaipeiFactoryLocation <- read_csv(\"D:/BigDataHW/HW6/NewTaipeiFactoryLocation_0002336861720153000188.csv\")\n```\n\n## 資料處理與清洗\n說明處理資料的步驟\n我們要先清洗出各站2016/12/31的資料，再把他們結合成一張表方便比對，再來將所有的數據charactor轉成num，由於資料表型態原本讀入是‘tbl_df’, ‘tbl’ and 'data.frame'，將字串轉成num時會有是資料是list所以物件無法強制轉成double的問題，因此在這裡先把資料表轉成data.frame再將資料型態轉換，再新增一個欄位求出當日的個數據平均。\n    而工廠清洗，我們先洗出還在生產中的工廠，再新增一個欄位Area填入區域，方便後便製圖以及比較，只用group_by和summarise求出每個區域有多少工廠，然後再以工廠數量來排序。\n處理資料\n```{r global option include=FALSE}\n#這是R Code Chunk\nlibrary(dplyr)\nlibrary(ggmap)\n\n#Banqiao\nnames(Banqiao)[names(Banqiao)==\"日期\"]=\"Date\";\nnames(Banqiao)[names(Banqiao)==\"測站\"]=\"Station\";\nnames(Banqiao)[names(Banqiao)==\"測項\"]=\"Item\";\n#Linkou\nnames(Linkou)[names(Linkou)==\"日期\"]=\"Date\";\nnames(Linkou)[names(Linkou)==\"測站\"]=\"Station\";\nnames(Linkou)[names(Linkou)==\"測項\"]=\"Item\";\n#Sanchong\nnames(Sanchong)[names(Sanchong)==\"日期\"]=\"Date\";\nnames(Sanchong)[names(Sanchong)==\"測站\"]=\"Station\";\nnames(Sanchong)[names(Sanchong)==\"測項\"]=\"Item\";\n#Tucheng\nnames(Tucheng)[names(Tucheng)==\"日期\"]=\"Date\";\nnames(Tucheng)[names(Tucheng)==\"測站\"]=\"Station\";\nnames(Tucheng)[names(Tucheng)==\"測項\"]=\"Item\";\n#WanLi\nnames(WanLi)[names(WanLi)==\"日期\"]=\"Date\";\nnames(WanLi)[names(WanLi)==\"測站\"]=\"Station\";\nnames(WanLi)[names(WanLi)==\"測項\"]=\"Item\";\n#Xinzhuang\nnames(Xinzhuang)[names(Xinzhuang)==\"日期\"]=\"Date\";\nnames(Xinzhuang)[names(Xinzhuang)==\"測站\"]=\"Station\";\nnames(Xinzhuang)[names(Xinzhuang)==\"測項\"]=\"Item\";\n#Xizhi\nnames(Xizhi)[names(Xizhi)==\"日期\"]=\"Date\";\nnames(Xizhi)[names(Xizhi)==\"測站\"]=\"Station\";\nnames(Xizhi)[names(Xizhi)==\"測項\"]=\"Item\";\n\n#7月\nAirPollution.201607 <- rbind(\n  Banqiao[grepl(\"2016/07\",Banqiao$Date),],\n  Linkou[grepl(\"2016/07\",Linkou$Date),],\n  Sanchong[grepl(\"2016/07\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/07\",Tucheng$Date),],\n  WanLi[grepl(\"2016/07\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/07\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/07\",Xizhi$Date),])\nAirPollution.201607 <- as.data.frame(AirPollution.201607)\nfor (i in 4:ncol(AirPollution.201607)) {\n   if (!all(AirPollution.201607[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201607[,i] <- as.numeric(AirPollution.201607[,i])\n   }\n}\nAirPollution.201607$Average<- round(rowMeans(AirPollution.201607[, 4:27],na.rm = TRUE),2)\nAirPollution.201607 <- AirPollution.201607[order(AirPollution.201607$Item, -AirPollution.201607$Average),]\n#8月\nAirPollution.201608 <- rbind(\n  Banqiao[grepl(\"2016/08\",Banqiao$Date),],\n  Linkou[grepl(\"2016/08\",Linkou$Date),],\n  Sanchong[grepl(\"2016/08\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/08\",Tucheng$Date),],\n  WanLi[grepl(\"2016/08\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/08\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/08\",Xizhi$Date),])\nAirPollution.201608 <- as.data.frame(AirPollution.201608)\nfor (i in 4:ncol(AirPollution.201608)) {\n   if (!all(AirPollution.201608[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201608[,i] <- as.numeric(AirPollution.201608[,i])\n   }\n}\nAirPollution.201608$Average<- round(rowMeans(AirPollution.201608[, 4:27],na.rm = TRUE),2)\nAirPollution.201608 <- AirPollution.201608[order(AirPollution.201608$Item, -AirPollution.201608$Average),]\n#9月\nAirPollution.201609 <- rbind(\n  Banqiao[grepl(\"2016/09\",Banqiao$Date),],\n  Linkou[grepl(\"2016/09\",Linkou$Date),],\n  Sanchong[grepl(\"2016/09\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/09\",Tucheng$Date),],\n  WanLi[grepl(\"2016/09\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/09\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/09\",Xizhi$Date),])\nAirPollution.201609 <- as.data.frame(AirPollution.201609)\nfor (i in 4:ncol(AirPollution.201609)) {\n   if (!all(AirPollution.201609[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201609[,i] <- as.numeric(AirPollution.201609[,i])\n   }\n}\nAirPollution.201609$Average<- round(rowMeans(AirPollution.201609[, 4:27],na.rm = TRUE),2)\nAirPollution.201609 <- AirPollution.201609[order(AirPollution.201609$Item, -AirPollution.201609$Average),]\n#10月\nAirPollution.201610 <- rbind(\n  Banqiao[grepl(\"2016/10\",Banqiao$Date),],\n  Linkou[grepl(\"2016/10\",Linkou$Date),],\n  Sanchong[grepl(\"2016/10\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/10\",Tucheng$Date),],\n  WanLi[grepl(\"2016/10\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/10\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/10\",Xizhi$Date),])\nAirPollution.201610 <- as.data.frame(AirPollution.201610)\nfor (i in 4:ncol(AirPollution.201610)) {\n   if (!all(AirPollution.201610[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201610[,i] <- as.numeric(AirPollution.201610[,i])\n   }\n}\nAirPollution.201610$Average<- round(rowMeans(AirPollution.201610[, 4:27],na.rm = TRUE),2)\nAirPollution.201610 <- AirPollution.201610[order(AirPollution.201610$Item, -AirPollution.201610$Average),]\n#11月\nAirPollution.201611 <- rbind(\n  Banqiao[grepl(\"2016/11\",Banqiao$Date),],\n  Linkou[grepl(\"2016/11\",Linkou$Date),],\n  Sanchong[grepl(\"2016/11\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/11\",Tucheng$Date),],\n  WanLi[grepl(\"2016/11\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/11\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/11\",Xizhi$Date),])\nAirPollution.201611 <- as.data.frame(AirPollution.201611)\nfor (i in 4:ncol(AirPollution.201611)) {\n   if (!all(AirPollution.201611[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201611[,i] <- as.numeric(AirPollution.201611[,i])\n   }\n}\nAirPollution.201611$Average<- round(rowMeans(AirPollution.201611[, 4:27],na.rm = TRUE),2)\nAirPollution.201611 <- AirPollution.201611[order(AirPollution.201611$Item, -AirPollution.201611$Average),]\n#12月\nAirPollution.201612 <- rbind(\n  Banqiao[grepl(\"2016/12\",Banqiao$Date),],\n  Linkou[grepl(\"2016/12\",Linkou$Date),],\n  Sanchong[grepl(\"2016/12\",Sanchong$Date),],\n  Tucheng[grepl(\"2016/12\",Tucheng$Date),],\n  WanLi[grepl(\"2016/12\",WanLi$Date),],\n  Xinzhuang[grepl(\"2016/12\",Xinzhuang$Date),],\n  Xizhi[grepl(\"2016/12\",Xizhi$Date),])\nAirPollution.201612 <- as.data.frame(AirPollution.201612)\nfor (i in 4:ncol(AirPollution.201612)) {\n   if (!all(AirPollution.201612[,i] %in% c(\" \",\"x\",\"*\",\"#\"))) {\n     AirPollution.201612[,i] <- as.numeric(AirPollution.201612[,i])\n   }\n}\nAirPollution.201612$Average<- round(rowMeans(AirPollution.201612[, 4:27],na.rm = TRUE),2)\nAirPollution.201612 <- AirPollution.201612[order(AirPollution.201612$Item, -AirPollution.201612$Average),]\n\n##7+8+9+10+11+12月\nAir_Tidy<-rbind(\n  AirPollution.201607[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 7,\n      Mean = mean(Average,na.rm = T)),\n  AirPollution.201608[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 8,\n      Mean = mean(Average,na.rm = T)),\n  AirPollution.201609[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 9,\n      Mean = mean(Average,na.rm = T)),\n  AirPollution.201610[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 10,\n      Mean = mean(Average,na.rm = T)),\n  AirPollution.201611[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 11,\n      Mean = mean(Average,na.rm = T)),\n  AirPollution.201612[,-4:-27] %>% group_by(Station,Item) %>%\n    summarise(\n      Month= 12,\n      Mean = mean(Average,na.rm = T))\n  )\n#Air_Tidy\n\n##工廠清洗\nfactory_operate <- NewTaipeiFactoryLocation[grepl(\"生產中\",NewTaipeiFactoryLocation$STATUS),]\nfactory_operate$Area <- substr(factory_operate$FACT_ADDR,4,6)\n#找出各區工廠數量，再以數量排序\nfactory_Area_Qunality <- group_by(factory_operate,Area)%>%summarise(nQuantity=n_distinct(REGI_ID))\nfactory_Area_Qunality <- arrange(factory_Area_Qunality,desc(nQuantity))\n#table(factory_operate$Area)\n\n#工廠經緯度轉換 要跑很久別一直RUN\nfactory_Area<-geocode(factory_Area_Qunality$Area)\nfactory_Area_Qunality<-cbind(factory_Area_Qunality,factory_Area)\n\n##工廠數量&PM2.5之關係整理\na <- Air_Tidy[grepl(\"PM2.5\",Air_Tidy$Item),c(\"Station\",\"Item\",\"Mean\")] %>% group_by(Station) %>%\n    summarise(Mean = mean(Mean,na.rm = T))\nb <- rbind(factory_Area_Qunality[grepl(\"三重\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"土城\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"汐止\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"板橋\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"林口\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"新莊\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")],\n           factory_Area_Qunality[grepl(\"萬里\",factory_Area_Qunality$Area),c(\"Area\",\"nQuantity\")])\nb$Area <-sub(\"區\",\"\",b$Area)   \nnames(b)[names(b)==\"Area\"]=\"Station\"\nRelationship <- merge(a, b, by = \"Station\")\n\n```\n\n## 探索式資料分析\n圖文並茂圖文並茂\n```{r}\n##作圖事前準備\nlibrary(gplots)\nlibrary(tidyverse)\nlibrary(maps)\nlibrary(maptools)\nlibrary(reshape2)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(showtext)\nshowtext.auto(enable = TRUE)\n\n##長轉寬\nAir_Tidy.s <- spread(Air_Tidy, Item, Mean)\n##寬轉長\nAir_Tidy.m <- melt(Air_Tidy, id.vars = c(\"Station\",\"Month\",\"Item\"))\n\n#雙變量----PM10跟PM2.5的相關性，資料超過30筆看起來似乎有相關\ncor(Air_Tidy.s$PM10,Air_Tidy.s$PM2.5)\n\n#散佈圖(是否PM10越高則PM2.5越高，因為PM10包含2.5)\nggplot(data=Air_Tidy.s) +   \n    # 散布圖對應的函式是geom_point()\n    geom_point(aes(x=PM2.5,  # 用aes()，描繪散布圖內的各種屬性\n                   y=PM10,\n                   color=Month\n                   )\n               )+\n  # 用geom_smooth()加上趨勢線\n  geom_smooth(aes(x=PM2.5,\n                  y=PM10),method='lm') +\n  scale_color_continuous(low = \"lightblue\",high = \"darkblue\")+\n  # 用labs()，進行文字上的標註(Annotation)\n  labs(title=\"Scatter of PM10-PM2.5\",\n         x=\"PM2.5\",\n         y=\"PM10\") + theme_bw()+\n  theme(text=element_text(family=\"wqy-microhei\"))\n\n##工廠分布圖\nTaipeiMap <- get_map(\n    location = c(121.34,24.93,121.64,25.24), \n    zoom = 11,maptype = 'terrain',language = \"zh-TW\") ## 地勢圖 中文\n##ggmap(TaipeiMap)\nTaipeiMapO <- ggmap(TaipeiMap)+ \n    geom_point(data=factory_Area_Qunality,\n               aes(x=lon, y=lat,\n                   color=nQuantity)\n               )+\n  scale_color_continuous(low = \"yellow\",high = \"red\")+\n  guides(size=FALSE)+\n  labs(title=\"工廠地區分布與數量\",\n         x=\"經度\",\n         y=\"緯度\",color=\"數量\") + theme_bw()+\n  theme(text=element_text(family=\"wqy-microhei\"))\nTaipeiMapO\n\n#長條圖//這裡要+\nqplot(Month, data = Air_Tidy.s, geom = \"bar\", weight = PM2.5) + facet_grid(.~Station)+\n  xlab(\"月份\")+ylab(\"PM2.5\")+\n  geom_bar(stat = 'count', fill = 'orange', colour = 'red')+ theme_bw()+\n  theme(text=element_text(family=\"wqy-microhei\"))\n\n#製作空氣汙染與工廠數量關係圖表\nRelationshipValue <- cor(as.numeric(Relationship$Mean),as.numeric(Relationship$nQuantity))\nggplot(data=Relationship) +   \n    # 散布圖對應的函式是geom_point()\n    geom_point(aes(x=Mean,  # 用aes()，描繪散布圖內的各種屬性\n                   y=nQuantity,\n                   color=Station,\n                   size=5\n                   )\n               )+guides(size=FALSE)+\n  # 用labs()，進行文字上的標註(Annotation)\n  labs(title=\"地區工廠數量與PM2.5之關係\",\n         x=\"PM2.5\",\n         y=\"工廠數量\",color=\"地區\") + theme_bw()+\n  theme(text=element_text(family=\"wqy-microhei\"))\n\n##把風向風速降雨、雨導電、紫外線、PH、CO、CH4值等較無用資料拿掉\nair_t.m<-Air_Tidy.m\nairduce<-rbind(Air_Tidy.m[grepl(\"WIND_DIREC\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"WD_HR\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"WIND_SPEED\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"WS_HR\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"PH_RAIN\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"RAINFALL\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"UVB\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"THC\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"NMHC\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"RAIN_COND\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"CO\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"CH4\",Air_Tidy.m$Item),],Air_Tidy.m[grepl(\"SO2\",Air_Tidy.m$Item),])\n##存入\nair_t.m<-anti_join(air_t.m,airduce)\n##作圖\nggplot(air_t.m, aes(Station,Item)) + \n    geom_tile(aes(fill = value),\n              colour = \"white\")+\n    scale_fill_gradient(low = \"white\", high = \"steelblue\", na.value =\"grey50\")+\n  labs(title=\"相對溼度與空氣中成份關係\",\n         x=\"地區\",\n         y=\"成份\",color=\"數值\") +\n  theme(text=element_text(family=\"wqy-microhei\"))+\ntheme_minimal()\n\n#互動式圖表 ##要markdown不能用這個\n#library(plotly)\n#ggplotly()\n\n```\n\n##分析結果\n1.地區工廠數量與PM2.5可能有關，但沒有那麼相關。\n2.因此我們又做了一張Heatmap，試圖用現有的資料去找出原因，但發現其中有很多都是空值，比如風向風速，大多沒有紀錄值，把無用資料刪去以後，得到一個結果是靠海邊的地區PM2.5比較高。\n3.這些可能跟沙子有關，也可能就是從旁邊那個國家吹過來的，像是比較高的林口跟萬里都是比較靠海的地區；所以，假如要做進一步的檢測，或許可以從風向與風速去進行，或是用工廠的種類去做檢測。\n\n##分析結果可能解決的問題\n我們需要用海邊與內陸區域分開分析來證實是否跟我們結果所架設相關，也需要分析不同工廠類別、規模來真正了解哪一類的工廠，真正與空氣汙染有關，從而提醒政府加以限制其工廠的廢氣排放，給我們人民一個不對健康造成影響的環境，及一個能永續發展的地球。\n",
    "created" : 1497877172573.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1187661436",
    "id" : "E1FAF398",
    "lastKnownWriteTime" : 1497879451,
    "last_content_update" : 1497879488741,
    "path" : "D:/BigDataHW/Repo/README.Rmd",
    "project_path" : "README.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}